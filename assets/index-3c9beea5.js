import{a2 as S,n as p,h as f,o as t,a8 as I,a9 as j,m as Q,T as R}from"./index-5ea857aa.js";import{L as W,u as $,S as q}from"./lists-97601b65.js";import{f as z,B as A,F as E,a as H}from"./filterConfig-d518bebd.js";import{G as J}from"./GlowToggle-fc028802.js";import{u as K,G as O}from"./Gallery-82d7f705.js";import{M as D,C as P,c as T,u as b,s as c}from"./styles-ed149696.js";import{g as U}from"./index-a6694880.js";import{B as h}from"./Box-c4b24945.js";import{a as V,b as X}from"./DialogTitle-e8b22d09.js";import{I as Y}from"./Close-bc9e6819.js";import"./three-d62902c6.js";import"./createSvgIcon-89ae96d0.js";import"./ButtonBase-65f23be8.js";import"./Popover-a9492b7d.js";/* empty css               */const Z=[],_=["w","b","e"],tt=e=>_.some(s=>e.startsWith(s)),et=e=>tt(e.id)?t(D,{...e}):t(P,{...e});function ot({compact:e,content:s,searchQuery:o,searchAll:a,filter:n=Z,onSelect:i}){const d=K(l=>l[s])??[],[r,m]=p([]),[C,u]=p(!1);return f(()=>m(d),[s]),f(()=>{u(!0);async function l(){if(a)return o?await I(o):d;const g=await j(d,o);return await z(g,n)}setTimeout(async()=>{const g=await l();m(g),u(!1)})},[o,n,a]),C?t(W,{}):t(O,{list:r,component:e?D:et,onClick:i})}const at=S(ot),st=e=>{let s=T;const o=[];return e.forEach(a=>{const n=s[a],i=n==null?void 0:n.value;i!==void 0&&(o.push(i),s=n.options)}),o.join("-")},M=[];function Bt({compact:e,onSelect:s=()=>{},onAfterSelect:o}){const{indices:a,setIndex:n,showFilter:i,toggleFilter:d,searchAll:r,toggleSearchAll:m}=Q(),C=!!indexedDB,[u,l]=p(""),g=$(u,500),[v,y]=p(M),B=e||b("(max-width:640px)")||b("(max-height:640px)"),L=R(k=>{const{value:G,name:N}=k.currentTarget.dataset;s(G,N),o==null||o()},[]),F=st(a),x=U(F);f(()=>y(M),[i,a]),f(()=>{l(""),r&&m()},[a]);const w=a.join();return t(h,{className:"ModelCatalog",sx:c.root,children:[t(h,{sx:c.top,children:[t(V,{sx:c.title,children:"Model Select"}),t(A,{options:T,selectedIndices:a,setIndex:n}),t(h,{sx:c.searchFilter,children:[t(h,{sx:c.search,children:[C&&t(J,{type:"text",value:"All",checked:r,onClick:m,title:"Whether to search all model"}),t(q,{query:u,onChange:l},w),x&&!r&&t(Y,{title:"Toggle Filter",onClick:d,size:"large",children:t(E,{})})]}),!r&&i&&x&&t(H,{config:x,onChange:y,compact:B},w)]})]}),t(X,{sx:c.content,children:t(at,{compact:B,searchQuery:g,filter:v,content:F,onSelect:L,searchAll:r})})]})}export{Bt as default};
