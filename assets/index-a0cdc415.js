import{c as S}from"./index-7e831e29.js";import{g as I,a as h,h as f,o as t,T as j}from"./jsxRuntime.module-9121d302.js";import{L as Q,u as R,S as W}from"./lists-87486fd5.js";import{f as $,B as q,F as z,a as A}from"./filterConfig-371af7a4.js";import{G as E}from"./GlowToggle-14284aac.js";import{u as H,G as J}from"./Gallery-74b65e41.js";import{M as D,C as K,c as T,u as w,s as c}from"./styles-45a5e75d.js";import{b as O,c as P}from"./index-f60cacb5.js";import{g as U}from"./index-b3e77134.js";import{B as g}from"./Box-22a79bc4.js";import{a as V,b as X}from"./DialogTitle-c13aece2.js";import{I as Y}from"./Close-f2887c68.js";import"./index-d7a93f3d.js";import"./_commonjsHelpers-35101cd5.js";import"./compat.module-90d28d8c.js";import"./immer.esm-6fa25dee.js";import"./viewer-9239d58b.js";import"./preload-helper-45408441.js";import"./three-5c1cbd72.js";import"./CopyShader-e27bbfcf.js";import"./ShaderPass-8cbc6b59.js";import"./Pass-4a28857e.js";import"./createSvgIcon-06820ebd.js";import"./ButtonBase-e35dbca3.js";import"./Popover-9fb2a3a1.js";/* empty css               */const Z=[],_=["w","b","e"],tt=o=>_.some(s=>o.startsWith(s)),ot=o=>tt(o.id)?t(D,{...o}):t(K,{...o});function et({compact:o,content:s,searchQuery:e,searchAll:a,filter:i=Z,onSelect:r}){const m=H(l=>l[s])??[],[n,d]=h([]),[C,p]=h(!1);return f(()=>d(m),[s]),f(()=>{p(!0);async function l(){if(a)return e?await O(e):m;const u=await P(m,e);return await $(u,i)}setTimeout(async()=>{const u=await l();d(u),p(!1)})},[e,i,a]),C?t(Q,{}):t(J,{list:n,component:o?D:ot,onClick:r})}const at=I(et),st=o=>{let s=T;const e=[];return o.forEach(a=>{const i=s[a],r=i==null?void 0:i.value;r!==void 0&&(e.push(r),s=i.options)}),e.join("-")},M=[];function Nt({compact:o,onSelect:s=()=>{},onAfterSelect:e}){const{indices:a,setIndex:i,showFilter:r,toggleFilter:m,searchAll:n,toggleSearchAll:d}=S(),C=!!indexedDB,[p,l]=h(""),u=R(p,500),[v,y]=h(M),B=o||w("(max-width:640px)")||w("(max-height:640px)"),L=j(k=>{const{value:G,name:N}=k.currentTarget.dataset;s(G,N),e==null||e()},[]),F=st(a),x=U(F);f(()=>y(M),[r,a]),f(()=>{l(""),n&&d()},[a]);const b=a.join();return t(g,{className:"ModelCatalog",sx:c.root,children:[t(g,{sx:c.top,children:[t(V,{sx:c.title,children:"Model Select"}),t(q,{options:T,selectedIndices:a,setIndex:i}),t(g,{sx:c.searchFilter,children:[t(g,{sx:c.search,children:[C&&t(E,{type:"text",value:"All",checked:n,onClick:d,title:"Whether to search all model"}),t(W,{query:p,onChange:l},b),x&&!n&&t(Y,{title:"Toggle Filter",onClick:m,size:"large",children:t(z,{})})]}),!n&&r&&x&&t(A,{config:x,onChange:y,compact:B},b)]})]}),t(X,{sx:c.content,children:t(at,{compact:B,searchQuery:u,filter:v,content:F,onSelect:L,searchAll:n})})]})}export{Nt as default};
