import{a as C,H as S,_ as L,n as y,S as D,h as b,o as a,v as p}from"./index-43909fc9.js";import{u as w}from"./useKey-6aa4a4c4.js";import{S as k}from"./Stretcher-7f90be39.js";import{h as x,i as E}from"./BoneManager-57d92db6.js";import{B as r}from"./Box-a8123e06.js";import{a as N,b as q}from"./DialogTitle-9448bc2b.js";import{S as H}from"./Gallery-d980bbd9.js";import{M as I}from"./filterConfig-4dc2ed2b.js";import{B as K}from"./Button-d5444f1c.js";/* empty css               */import"./ModelIcon-7aa43d1d.js";import"./Accordion-4b8c2942.js";import"./useToggleState-1757e6b3.js";import"./createSvgIcon-902624fa.js";import"./ButtonBase-58f3bc05.js";import"./Popover-baa14918.js";import"./ColorButton-ec32587d.js";import"./SkipPrevious-27ccb7e5.js";import"./Close-23e06b1d.js";import"./FaceSelect-d0fd521c.js";import"./FacePartSelector-09689c16.js";import"./Selector-501090e4.js";import"./GlowToggle-98cebd55.js";import"./MeshMouthSelect-19aa96cf.js";import"./FaceTexture-6036aaf2.js";import"./lists-82f6e2e5.js";import"./styles-38a8ffa6.js";import"./AddWeapon-ecbbd8d9.js";import"./index-9f698276.js";function lt(){var d;const{activeModel:e}=C();if(!e)return null;const[h,u]=w(),{inputModel:g}=S(),o=L(()=>{}),i=["root",...((d=e==null?void 0:e.bones)==null?void 0:d.list)??[]],[m,c]=y(i[0]),A=D(e.attachment.list.map(t=>t.parentBone));b(()=>{if(!e)return;c("root"),o.current();const t=e.addEventListener("AttachmentChanged",u);return o.current=()=>e.removeEventListener("AttachmentChanged",t),o.current},[e]);const f=t=>{c(t.target.value)},s=async(t=m)=>{const l=await g();if(!l)return;const[v,B]=l,n=await p.loadDLModel(v);n.userData.name=B,e.attach(n,t==="root"?void 0:t),n.outline.code=e.outline.code,n.material.code=e.material.code,p.render()},M=()=>s();return a(r,{className:"AttachmentManager",children:[a(r,{className:"AttachmentManager-top",children:[a(N,{children:"Manage Attachments"}),a(r,{className:"AttachmentManager-add",children:[a(H,{onChange:f,value:m,className:"AttachmentManager-select",children:i.map(t=>a(I,{value:t,children:t},t))}),a(K,{title:"Add Attachment",variant:"contained",onClick:M,children:a(x,{})})]})]}),a(q,{className:"AttachmentManager-body",children:[a(k,{}),A.map(t=>a(E,{add:s,bone:t},t))]},h)]})}export{lt as default};
