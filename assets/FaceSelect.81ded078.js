var j=Object.defineProperty,T=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var p=(e,c,s)=>c in e?j(e,c,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[c]=s,F=(e,c)=>{for(var s in c||(c={}))v.call(c,s)&&p(e,s,c[s]);if(x)for(var s of x(c))y.call(c,s)&&p(e,s,c[s]);return e},f=(e,c)=>T(e,C(c));var B=(e,c)=>{var s={};for(var n in e)v.call(e,n)&&c.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&x)for(var n of x(e))c.indexOf(n)<0&&y.call(e,n)&&(s[n]=e[n]);return s};import{a as d,j as o,d as M,Q as L,p as U,c as k,l as S}from"./index.b7b55391.js";import{u as w}from"./useKey.d86be249.js";import{F as D}from"./FacePartSelector.70776806.js";import{E as K,M as P,i as z,b as Q,c as $}from"./MeshMouthSelect.a17a4a77.js";import{a as E,b as q}from"./DialogTitle.97fe4f58.js";function A(r){var i=r,{eyeTexture:e,eyeIdx:c,mouthTexture:s,mouthIdx:n}=i,t=B(i,["eyeTexture","eyeIdx","mouthTexture","mouthIdx"]);return d("div",f(F({className:"FaceBox"},t),{children:[o(K,{texture:e,index:c}),o(P,{texture:s,index:n})]}))}function G({target:e,onSelect:c}){const s=e==null?void 0:e.face;if(!s||(s==null?void 0:s.type)!=="uv")return o("h2",{children:"Not Available"});const[n,t]=w();M(()=>{const a=s.addEventListener("change",({propName:l})=>{(l.includes("Base")||l.includes("Texture"))&&t()});return()=>s.removeEventListener("change",a)},[]);const r=L(),[i,u]=U("Both");M(()=>!r&&t(),[i]);const h=a=>{const{index:l}=a.currentTarget.dataset;i!=="Eyes"&&c(l,"mouth"),i!=="Mouth"&&c(l,"eye")},{eyeBaseIdx:m,eyeTexture:b,mouthBaseIdx:I,mouthTexture:N}=s;return d("div",{className:"UvFaceSelect",children:[o(D,{value:i,onClick:u}),o("div",{className:"FaceBoxes",children:z.map(a=>o(A,{eyeTexture:b,eyeIdx:i==="Mouth"?m:a,mouthTexture:N,mouthIdx:i==="Eyes"?I:a,"data-index":a,onClick:h}))},n)]})}function H({target:e,onSelect:c}){var n,t;const s=e==null?void 0:e.face;return(s==null?void 0:s.type)==="meshes"&&d("div",{className:"MeshFaceSelect",children:[((n=s==null?void 0:s.eyeList)==null?void 0:n.length)>0&&o(Q,{target:e,onSelect:c}),((t=s==null?void 0:s.mouthList)==null?void 0:t.length)>0&&o($,{target:e,onSelect:c})]})}const J={uv:G,meshes:H},O={display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",fontSize:"large"};function _({target:e,onSelect:c,onAfterSelect:s}){var u,h;const{activeModel:n}=k();e!=null||(e=n);const t=(u=e==null?void 0:e.face)==null?void 0:u.type,r=(h=J[t])!=null?h:()=>o(S,{}),i=(...m)=>{c(...m),s==null||s()};return e!=null&&e.face?d("div",{className:"FaceSelect",children:[o(E,{sx:{textAlign:"center"},children:"Face Select"}),o(q,{sx:{padding:"1rem"},children:o(r,{target:e,onSelect:i})})]}):d(S,{children:[o(E,{sx:{textAlign:"center"},children:"Face Select"}),o("div",{style:O,children:"Not available"})]})}export{_ as F};
