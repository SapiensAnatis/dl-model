import{N as W,x as U,o as n,A as tt,W as gt,y as et,p as st,T as bt,a3 as yt,s as ft}from"./index.768daeb8.js";import{L as T,i as vt,c as Ct,M as It}from"./Gallery.45006da0.js";import{b as k,g as _,s as G,a as d,d as j,_ as F,e as M,f as D,m as $,l as ot,u as at,B as nt,r as xt}from"./ButtonBase.f46ca7c4.js";import{i as J}from"./Popover.4a7d83ce.js";import{T as E}from"./DialogTitle.47814ba0.js";import{B as $t}from"./Box.bf4470aa.js";import{G as ht}from"./GlowToggle.506ce7f2.js";import{c as Lt}from"./createSvgIcon.924f20ec.js";import{W as rt,R as it,E as ct,F as St,a as Tt}from"./lists.3da89684.js";const Mt=k("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),K=Mt;function kt(t){return _("MuiListItem",t)}const At=k("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),O=At,Ot=k("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Nt=Ot;function Pt(t){return _("MuiListItemSecondaryAction",t)}k("MuiListItemSecondaryAction",["root","disableGutters"]);const Rt=["className"],wt=t=>{const{disableGutters:e,classes:o}=t;return D({root:["root",e&&"disableGutters"]},Pt,o)},Ft=G("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.disableGutters&&e.disableGutters]}})(({ownerState:t})=>d({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),lt=W(function(e,o){const s=j({props:e,name:"MuiListItemSecondaryAction"}),{className:a}=s,r=F(s,Rt),i=U(T),l=d({},s,{disableGutters:i.disableGutters}),c=wt(l);return n(Ft,d({className:M(c.root,a),ownerState:l,ref:o},r))});lt.muiName="ListItemSecondaryAction";const Gt=lt,Bt=["className"],Et=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],Vt=(t,e)=>{const{ownerState:o}=t;return[e.root,o.dense&&e.dense,o.alignItems==="flex-start"&&e.alignItemsFlexStart,o.divider&&e.divider,!o.disableGutters&&e.gutters,!o.disablePadding&&e.padding,o.button&&e.button,o.hasSecondaryAction&&e.secondaryAction]},Wt=t=>{const{alignItems:e,button:o,classes:s,dense:a,disabled:r,disableGutters:i,disablePadding:l,divider:c,hasSecondaryAction:p,selected:b}=t;return D({root:["root",a&&"dense",!i&&"gutters",!l&&"padding",c&&"divider",r&&"disabled",o&&"button",e==="flex-start"&&"alignItemsFlexStart",p&&"secondaryAction",b&&"selected"],container:["container"]},kt,s)},Ut=G("div",{name:"MuiListItem",slot:"Root",overridesResolver:Vt})(({theme:t,ownerState:e})=>d({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&d({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${Nt.root}`]:{paddingRight:48}},{[`&.${O.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${O.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:$(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${O.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:$(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${O.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${O.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:$(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:$(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),_t=G("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),jt=W(function(e,o){const s=j({props:e,name:"MuiListItem"}),{alignItems:a="center",autoFocus:r=!1,button:i=!1,children:l,className:c,component:p,components:b={},componentsProps:v={},ContainerComponent:I="li",ContainerProps:{className:C}={},dense:g=!1,disabled:u=!1,disableGutters:y=!1,disablePadding:f=!1,divider:m=!1,focusVisibleClassName:x,secondaryAction:h,selected:dt=!1}=s,pt=F(s.ContainerProps,Bt),ut=F(s,Et),mt=U(T),H={dense:g||mt.dense||!1,alignItems:a,disableGutters:y},z=tt(null);ot(()=>{r&&z.current&&z.current.focus()},[r]);const A=gt.toArray(l),Y=A.length&&vt(A[A.length-1],["ListItemSecondaryAction"]),N=d({},s,{alignItems:a,autoFocus:r,button:i,dense:H.dense,disabled:u,disableGutters:y,disablePadding:f,divider:m,hasSecondaryAction:Y,selected:dt}),X=Wt(N),q=at(z,o),B=b.Root||Ut,P=v.root||{},L=d({className:M(X.root,P.className,c),disabled:u},ut);let S=p||"li";return i&&(L.component=p||"div",L.focusVisibleClassName=M(O.focusVisible,x),S=nt),Y?(S=!L.component&&!p?"div":S,I==="li"&&(S==="li"?S="div":L.component==="li"&&(L.component="div")),n(T.Provider,{value:H,children:n(_t,d({as:I,className:M(X.container,C),ref:q,ownerState:N},pt,{children:[n(B,d({},P,!J(B)&&{as:S,ownerState:d({},N,P.ownerState)},L,{children:A})),A.pop()]}))})):n(T.Provider,{value:H,children:n(B,d({},P,{as:S,ref:q,ownerState:N},!J(B)&&{ownerState:d({},N,P.ownerState)},L,{children:[A,h&&n(Gt,{children:h})]}))})}),Dt=jt,Ht=k("MuiListItemIcon",["root","alignItemsFlexStart"]),Q=Ht;function zt(t){return _("MuiListItemText",t)}const Yt=k("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),V=Yt,Xt=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],qt=t=>{const{classes:e,inset:o,primary:s,secondary:a,dense:r}=t;return D({root:["root",o&&"inset",r&&"dense",s&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},zt,e)},Jt=G("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{[`& .${V.primary}`]:e.primary},{[`& .${V.secondary}`]:e.secondary},e.root,o.inset&&e.inset,o.primary&&o.secondary&&e.multiline,o.dense&&e.dense]}})(({ownerState:t})=>d({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),Kt=W(function(e,o){const s=j({props:e,name:"MuiListItemText"}),{children:a,className:r,disableTypography:i=!1,inset:l=!1,primary:c,primaryTypographyProps:p,secondary:b,secondaryTypographyProps:v}=s,I=F(s,Xt),{dense:C}=U(T);let g=c!=null?c:a,u=b;const y=d({},s,{disableTypography:i,inset:l,primary:!!g,secondary:!!u,dense:C}),f=qt(y);return g!=null&&g.type!==E&&!i&&(g=n(E,d({variant:C?"body2":"body1",className:f.primary,component:p!=null&&p.variant?void 0:"span",display:"block"},p,{children:g}))),u!=null&&u.type!==E&&!i&&(u=n(E,d({variant:"body2",className:f.secondary,color:"text.secondary",display:"block"},v,{children:u}))),n(Jt,d({className:M(f.root,r),ownerState:y,ref:o},I,{children:[g,u]}))}),Qt=Kt;function Zt(t){return _("MuiMenuItem",t)}const te=k("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),R=te,ee=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],se=(t,e)=>{const{ownerState:o}=t;return[e.root,o.dense&&e.dense,o.divider&&e.divider,!o.disableGutters&&e.gutters]},oe=t=>{const{disabled:e,dense:o,divider:s,disableGutters:a,selected:r,classes:i}=t,c=D({root:["root",o&&"dense",e&&"disabled",!a&&"gutters",s&&"divider",r&&"selected"]},Zt,i);return d({},i,c)},ae=G(nt,{shouldForwardProp:t=>xt(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:se})(({theme:t,ownerState:e})=>d({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${R.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:$(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${R.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:$(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${R.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:$(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:$(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${R.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${R.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${K.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${K.inset}`]:{marginLeft:52},[`& .${V.root}`]:{marginTop:0,marginBottom:0},[`& .${V.inset}`]:{paddingLeft:36},[`& .${Q.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&d({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${Q.root} svg`]:{fontSize:"1.25rem"}}))),ne=W(function(e,o){const s=j({props:e,name:"MuiMenuItem"}),{autoFocus:a=!1,component:r="li",dense:i=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:p,role:b="menuitem",tabIndex:v,className:I}=s,C=F(s,ee),g=U(T),u={dense:i||g.dense||!1,disableGutters:c},y=tt(null);ot(()=>{a&&y.current&&y.current.focus()},[a]);const f=d({},s,{dense:u.dense,divider:l,disableGutters:c}),m=oe(s),x=at(y,o);let h;return s.disabled||(h=v!==void 0?v:-1),n(T.Provider,{value:u,children:n(ae,d({ref:x,role:b,tabIndex:h,component:r,focusVisibleClassName:M(m.focusVisible,p),className:M(m.root,I)},C,{ownerState:f,classes:m}))})}),re=ne,w={box:{display:"flex",flexWrap:"no-wrap",flexGrow:1,minWidth:"15rem",padding:0,margin:"0 2rem",justifyContent:"center","&::-webkit-scrollbar":{height:"0.1rem",backgroundColor:"rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{height:"0.1rem",backgroundColor:"rgba(255, 255, 255, 0.3)"}},list:{backgroundColor:"rgba(16, 16, 16, 0.9)",color:"white",flex:"1 1",minWidth:"9rem",maxWidth:"20rem","&:hover":{backgroundColor:"rgba(16, 16, 16, 0.7)"},"& img":{filter:"drop-shadow(0 0 0.3rem white)"}},listItem:{cursor:"pointer",textAlign:"center","&[data-multi]::after":{content:'"\u25BC"',position:"absolute",bottom:"0.1rem",left:"50%",transform:"translateX(-50%)",fontSize:"x-small"},"&:not(first-of-type)":{borderLeft:"0.1rem solid rgba(255, 255, 255, 0.5)"}},menuItem:{gap:"0.2rem",minWidth:"8rem"},icon:{maxHeight:"1.5rem",margin:"0 0.3rem"}},Z=t=>n("img",{...t,style:w.icon});function ie({level:t=0,selectedIndices:e,options:o,setIndex:s}){var y,f;const[a,r]=et(null),i=o.length>1;(y=e[t])!=null||s(t,0);const l=m=>{r(m.currentTarget)},c=m=>{const{level:x,index:h}=m.target.dataset;s(parseInt(x),parseInt(h)),r(null)},p=()=>{r(null)},b=(f=e[t])!=null?f:0,{label:v,value:I,icon:C,options:g}=o[b],u=n(st,{children:[n(Ct,{disablePadding:!0,sx:w.list,children:n(Dt,{"data-multi":i,sx:w.listItem,onClick:l,children:[C&&n(Z,{alt:I,src:C}),n(Qt,{primary:`${v}`})]})}),i&&n(It,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:p,children:o.map((m,x)=>n(re,{selected:x===b,onClick:c,sx:w.menuItem,"data-index":x,"data-level":t,children:[m.icon&&n(Z,{alt:m.value,src:m.icon}),m.label]},m.value))}),g&&n(ie,{options:g,selectedIndices:e,level:t+1,setIndex:s})]});return t===0?n($t,{className:"Breadcrumbs",sx:w.box,children:u}):u}const ce=(t,e)=>o=>{const s=o[t],a=s==null?void 0:s[e];a!==void 0&&(s[e]=!a,Object.values(s).every(Boolean)&&Object.keys(s).forEach(r=>s[r]=!1))};function le(t){const e=bt(()=>de(t),[t]),[o,s]=et(e);return[o,(i,l)=>s(c=>yt(c,ce(i,l))),()=>s(e)]}function de(t){const e=t.map(({name:o,options:s})=>{const a=s.map(i=>[i,!1]),r=Object.fromEntries(a);return[o,r]});return Object.fromEntries(e)}function pe({name:t,options:e,type:o,state:s,toggle:a}){const r=c=>{const{group:p,value:b}=c.currentTarget.dataset;a(p,b)},i=c=>`img/appIcon/${t}_${c}.png`,l=e.map(c=>n(ht,{icon:i(c),value:c,type:o,checked:s[c],"data-group":t,onClick:r}));return n("div",{className:"ToggleGroup",children:l})}const ue=t=>Object.entries(t).map(([s,a])=>[s,Object.keys(a).filter(r=>a[r])]).filter(([,s])=>s.length);function he({config:t,onChange:e,compact:o}){if(!t)return n(st,{});const[s,a,r]=le(t);ft(()=>{const l=ue(s);e(l)},[s]);const i=t.map((l,c)=>n(pe,{state:s[l.name],toggle:a,...l},c));return n("div",{className:"Filter","data-compact":o,children:[i,n("button",{className:"Filter-reset",onClick:r,children:n("span",{children:"Reset"})})]})}const Le=Lt(n("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt");function me(){return new Worker("/dl-model/assets/filterWorker.6a83b503.js")}function Se(t,e){if(!e.length)return t;const o=new me;return new Promise(s=>{o.addEventListener("message",a=>{o.terminate(),s(a.data)}),o.postMessage({fullList:t,conditions:e})})}const Te=[{name:"weapon",type:"icon",options:rt},{name:"rarity",type:"icon",options:it},{name:"element",type:"icon",options:ct}],Me=[{name:"rarity",type:"icon",options:it},{name:"element",type:"icon",options:ct}],ke=[{name:"weapon",type:"icon",options:rt},{name:"rarity",type:"icon",options:St},{name:"element",type:"icon",options:Tt}];export{ie as B,Le as F,re as M,pe as T,he as a,Te as c,Me as d,Se as f,ke as w};
