var We=Object.defineProperty,Re=Object.defineProperties;var je=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable;var xe=(e,t,a)=>t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,g=(e,t)=>{for(var a in t||(t={}))ye.call(t,a)&&xe(e,a,t[a]);if(q)for(var a of q(t))Ce.call(t,a)&&xe(e,a,t[a]);return e},I=(e,t)=>Re(e,je(t));var N=(e,t)=>{var a={};for(var r in e)ye.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&q)for(var r of q(e))t.indexOf(r)<0&&Ce.call(e,r)&&(a[r]=e[r]);return a};/* empty css               */import{x as ne,a as b,j as o,h as ie,_ as He,m as M,I as se,F as w,y as K,R as ce,W as _e,U as ae,o as Oe,k as Ve,c as Ee,V as Ge,v as re,b as Ue}from"./index.4d2bee0c.js";import{M as qe}from"./ModelIcon.497554d4.js";import{A as G}from"./Accordion.316a2b2a.js";import{a as Ke,b as Xe,S as Ae,T as de,u as Pe}from"./Gallery.80030fc0.js";import{M as ue,T as Ye}from"./filterConfig.eac7c6a5.js";import{g as pe,b as me,s as F,B as Qe,a as x,_ as he,e as be,f as E,c as A,d as Be,m as ke,n as Je,o as Ze}from"./ButtonBase.5cd712f0.js";import{a as et,B as tt,M as ot,P as Ne,u as at,F as rt,b as lt}from"./Popover.e43bf137.js";import{C as nt}from"./ColorButton.c9953494.js";import{S as it,B as st,b as ct,a as dt,P as ut,c as pt}from"./SkipPrevious.17e660f8.js";import{u as X}from"./useKey.5ed51416.js";import{I as fe,C as Y}from"./Close.b54953c1.js";import{c as T}from"./createSvgIcon.8861af89.js";import{B as k}from"./Button.c34d3630.js";import{B as mt}from"./Box.2d3d7b24.js";import{D as ht}from"./DialogTitle.3ef5a3e7.js";import{F as bt}from"./FaceSelect.f05f5b54.js";import{F as ft}from"./FaceTexture.05e105d1.js";import{u as Me}from"./useToggleState.44138f4a.js";import{G as vt}from"./GlowToggle.547a70a7.js";import{A as gt}from"./AddWeapon.7fcc37c1.js";function St(e){return pe("PrivateSwitchBase",e)}me("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const xt=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],yt=e=>{const{classes:t,checked:a,disabled:r,edge:l}=e,n={root:["root",a&&"checked",r&&"disabled",l&&`edge${A(l)}`],input:["input"]};return be(n,St,t)},Ct=F(Qe)(({ownerState:e})=>x({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),kt=F("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Mt=ne(function(t,a){const{autoFocus:r,checked:l,checkedIcon:n,className:c,defaultChecked:i,disabled:s,disableFocusRipple:d=!1,edge:p=!1,icon:h,id:m,inputProps:u,inputRef:f,name:y,onBlur:v,onChange:S,onFocus:P,readOnly:H,required:D,tabIndex:Q,type:W,value:_}=t,J=he(t,xt),[U,R]=et({controlled:l,default:Boolean(i),name:"SwitchBase",state:"checked"}),B=Ke(),O=L=>{P&&P(L),B&&B.onFocus&&B.onFocus(L)},Z=L=>{v&&v(L),B&&B.onBlur&&B.onBlur(L)},ee=L=>{if(L.nativeEvent.defaultPrevented)return;const Se=L.target.checked;R(Se),S&&S(L,Se)};let z=s;B&&typeof z=="undefined"&&(z=B.disabled);const te=W==="checkbox"||W==="radio",$=x({},t,{checked:U,disabled:z,disableFocusRipple:d,edge:p}),ge=yt($);return b(Ct,x({component:"span",className:E(ge.root,c),centerRipple:!0,focusRipple:!d,disabled:z,tabIndex:null,role:void 0,onFocus:O,onBlur:Z,ownerState:$,ref:a},J,{children:[o(kt,x({autoFocus:r,checked:l,defaultChecked:i,className:ge.input,disabled:z,id:te&&m,name:y,onChange:ee,readOnly:H,ref:f,required:D,ownerState:$,tabIndex:Q,type:W},W==="checkbox"&&_===void 0?{}:{value:_},u)),U?n:h]}))});var wt=Mt;function Tt(e){return pe("MuiDialog",e)}const At=me("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var oe=At;const Pt=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Bt=F(tt,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Nt=e=>{const{classes:t,scroll:a,maxWidth:r,fullWidth:l,fullScreen:n}=e,c={root:["root"],container:["container",`scroll${A(a)}`],paper:["paper",`paperScroll${A(a)}`,`paperWidth${A(String(r))}`,l&&"paperFullWidth",n&&"paperFullScreen"]};return be(c,Tt,t)},Ft=F(ot,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),zt=F("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.container,t[`scroll${A(a.scroll)}`]]}})(({ownerState:e})=>x({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),$t=F(Ne,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.paper,t[`scrollPaper${A(a.scroll)}`],t[`paperWidth${A(String(a.maxWidth))}`],a.fullWidth&&t.paperFullWidth,a.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>x({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`${e.breakpoints.values.xs}${e.breakpoints.unit}`,[`&.${oe.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${oe.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${oe.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Lt=ne(function(t,a){const r=Be({props:t,name:"MuiDialog"}),l=at(),n={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{"aria-describedby":c,"aria-labelledby":i,BackdropComponent:s,BackdropProps:d,children:p,className:h,disableEscapeKeyDown:m=!1,fullScreen:u=!1,fullWidth:f=!1,maxWidth:y="sm",onBackdropClick:v,onClose:S,open:P,PaperComponent:H=Ne,PaperProps:D={},scroll:Q="paper",TransitionComponent:W=rt,transitionDuration:_=n,TransitionProps:J}=r,U=he(r,Pt),R=x({},r,{disableEscapeKeyDown:m,fullScreen:u,fullWidth:f,maxWidth:y,scroll:Q}),B=Nt(R),O=ie(),Z=$=>{O.current=$.target===$.currentTarget},ee=$=>{!O.current||(O.current=null,v&&v($),S&&S($,"backdropClick"))},z=Xe(i),te=He(()=>({titleId:z}),[z]);return o(Ft,x({className:E(B.root,h),BackdropProps:x({transitionDuration:_,as:s},d),closeAfterTransition:!0,BackdropComponent:Bt,disableEscapeKeyDown:m,onClose:S,open:P,ref:a,onClick:ee,ownerState:R},U,{children:o(W,x({appear:!0,in:P,timeout:_,role:"presentation"},J,{children:o(zt,{className:E(B.container),onMouseDown:Z,ownerState:R,children:o($t,x({as:H,elevation:24,role:"dialog","aria-describedby":c,"aria-labelledby":z},D,{className:E(B.paper,D.className),ownerState:R,children:o(ht.Provider,{value:te,children:p})}))})}))}))});var It=Lt;function Dt(e){return pe("MuiSwitch",e)}const Wt=me("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var C=Wt;const Rt=["className","color","edge","size","sx"],jt=e=>{const{classes:t,edge:a,size:r,color:l,checked:n,disabled:c}=e,i={root:["root",a&&`edge${A(a)}`,`size${A(r)}`],switchBase:["switchBase",`color${A(l)}`,n&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},s=be(i,Dt,t);return x({},t,s)},Ht=F("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.edge&&t[`edge${A(a.edge)}`],t[`size${A(a.size)}`]]}})(({ownerState:e})=>x({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${C.thumb}`]:{width:16,height:16},[`& .${C.switchBase}`]:{padding:4,[`&.${C.checked}`]:{transform:"translateX(16px)"}}})),_t=F(wt,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.switchBase,{[`& .${C.input}`]:t.input},a.color!=="default"&&t[`color${A(a.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${C.checked}`]:{transform:"translateX(20px)"},[`&.${C.disabled}`]:{color:e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]},[`&.${C.checked} + .${C.track}`]:{opacity:.5},[`&.${C.disabled} + .${C.track}`]:{opacity:e.palette.mode==="light"?.12:.2},[`& .${C.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>x({"&:hover":{backgroundColor:ke(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${C.checked}`]:{color:e.palette[t.color].main,"&:hover":{backgroundColor:ke(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${C.disabled}`]:{color:e.palette.mode==="light"?Je(e.palette[t.color].main,.62):Ze(e.palette[t.color].main,.55)}},[`&.${C.checked} + .${C.track}`]:{backgroundColor:e.palette[t.color].main}})),Ot=F("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.palette.mode==="light"?e.palette.common.black:e.palette.common.white,opacity:e.palette.mode==="light"?.38:.3})),Vt=F("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Et=ne(function(t,a){const r=Be({props:t,name:"MuiSwitch"}),{className:l,color:n="primary",edge:c=!1,size:i="medium",sx:s}=r,d=he(r,Rt),p=x({},r,{color:n,edge:c,size:i}),h=jt(p),m=o(Vt,{className:h.thumb,ownerState:p});return b(Ht,{className:E(h.root,l),sx:s,ownerState:p,children:[o(_t,x({type:"checkbox",icon:m,checkedIcon:m,ref:a,ownerState:p},d,{classes:x({},h,{root:h.switchBase})})),o(Ot,{className:h.track,ownerState:p})]})});var Gt=Et,ve=T(o("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),Ut=T(o("path",{d:"M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z"}),"Attachment"),Fe=T(o("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"}),"AutoAwesome"),qt=T([o("path",{d:"M15.54 5.54 13.77 7.3 12 5.54 10.23 7.3 8.46 5.54 12 2zm2.92 10-1.76-1.77L18.46 12l-1.76-1.77 1.76-1.77L22 12zm-10 2.92 1.77-1.76L12 18.46l1.77-1.76 1.77 1.76L12 22zm-2.92-10 1.76 1.77L5.54 12l1.76 1.77-1.76 1.77L2 12z"},"0"),o("circle",{cx:"12",cy:"12",r:"3"},"1")],"ControlCamera"),Kt=T(o("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"}),"CropOriginal"),ze=T(o("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9 1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"}),"DirectionsRun"),Xt=T(o("path",{d:"M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"}),"Extension"),$e=T(o("path",{d:"M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z"}),"Face"),Yt=T(o("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"}),"Mood"),Qt=T(o("path",{d:"M21 11V3h-8l3.29 3.29-10 10L3 13v8h8l-3.29-3.29 10-10z"}),"OpenInFull"),Jt=T(o("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonOutlined"),Zt=T(o("path",{d:"M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"}),"Storage"),eo=T(o("path",{d:"M19.51 3.08 3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3 3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z"}),"Texture"),to=T(o("path",{d:"M12 7C6.48 7 2 9.24 2 12c0 2.24 2.94 4.13 7 4.77V20l4-4-4-4v2.73c-3.15-.56-5-1.9-5-2.73 0-1.06 3.04-3 8-3s8 1.94 8 3c0 .73-1.46 1.89-4 2.53v2.05c3.53-.77 6-2.53 6-4.58 0-2.76-4.48-5-10-5z"}),"ThreeSixty");function Le(l){var n=l,{options:e,value:t,onChange:a}=n,r=N(n,["options","value","onChange"]);return o(Ae,I(g({className:"SelectBox",value:t,onChange:i=>a(i.target.value)},r),{children:e.map(({value:i,label:s=i,title:d})=>o(ue,{value:i,title:d,children:s}))}))}function oo(s){var d=s,{target:e,keyList:t,labels:a=[],scale:r=1,inputProps:l={},onBeforeChange:n=void 0,onChange:c=void 0}=d,i=N(d,["target","keyList","labels","scale","inputProps","onBeforeChange","onChange"]);const p=t.map(f=>e[f]/r),[h,m]=M(p),u=f=>{const y=parseInt(f.currentTarget.getAttribute("index")),v=parseFloat(f.currentTarget.value);if(isNaN(v))return;let S;m(D=>(S=[...D],S[y]=v,S));const P=v*r,H=t[y];n==null||n(S),e[H]=P,c==null||c(S)};return o("div",I(g({className:"SetNumbers"},i),{children:t.map((f,y)=>{var v;return o(de,{className:"SetNumbers-number",onChange:u,value:h[y],label:(v=a[y])!=null?v:f,size:"small",margin:"dense",variant:"outlined",inputProps:g({type:"number",index:y},l)},f)})}))}const ao=["x","y","z","w"];function le(i){var s=i,{target:e,dimension:t=3,scale:a=1,min:r,max:l,step:n}=s,c=N(s,["target","dimension","scale","min","max","step"]);const d=ao.slice(0,t);return o(oo,g({target:e,keyList:d,scale:a,inputProps:{min:r,max:l,step:n},className:"SetVector SetNumbers","data-dimension":t},c))}const ro=(e,t=-1/0,a=1/0)=>{if(e===void 0)return;let r=e;return r<t&&(r=t),r>a&&(r=a),r};function Ie(d){var p=d,{target:e,propName:t,label:a,min:r,max:l,step:n=1,onBeforeChange:c,onChange:i}=p,s=N(p,["target","propName","label","min","max","step","onBeforeChange","onChange"]);const[h,m]=M(e[t]);return o("div",{className:"SetNumber",children:o(de,g({onChange:f=>{if(!f.currentTarget.value)return;const y=parseFloat(f.currentTarget.value)||r;let v=ro(y,r,l);m(v),c==null||c(v),e[t]=v,i==null||i(v)},value:h,label:a,size:"small",margin:"dense",variant:"outlined",inputProps:{type:"number",min:r,max:l,step:n}},s))})}function lo(i){var s=i,{target:e,propName:t,label:a,inputProps:r={},onBeforeChange:l,onChange:n}=s,c=N(s,["target","propName","label","inputProps","onBeforeChange","onChange"]);const[d,p]=M(e[t]);return o("div",{className:"SetString",children:o(de,g({onChange:m=>{const u=m.currentTarget.value;p(u),l==null||l(u),e[t]=u,n==null||n(u)},value:d,label:a,size:"small",margin:"dense",variant:"outlined",inputProps:r},c))})}function no({target:e,propName:t,onBeforeChange:a,onChange:r}){const[l,n]=M(e[t]);return o("div",{className:"SetBoolean",children:o(Gt,{onChange:()=>{const i=!l;n(i),a==null||a(i),e[t]=i,r==null||r(i)},checked:l})})}function io({target:e,propName:t,onBeforeChange:a,onChange:r}){const[l,n]=M(e[t]),{inputColor:c}=se(),i=async()=>{const s=await c();!s||(n(s),a==null||a(s),e[t]=s,r==null||r(s))};return o("div",{className:"SetColor",children:o(nt,{color:l.startsWith("#")?l:"#"+l,onClick:i,style:{border:"1px solid rgba(255, 255, 255, 0.5)"}})})}function so(i){var s=i,{target:e,propName:t,label:a,options:r,onBeforeChange:l,onChange:n}=s,c=N(s,["target","propName","label","options","onBeforeChange","onChange"]);const[d,p]=M(e[t]);return o("div",{className:"SetFromList",children:o(Le,g({onChange:m=>{p(m),l==null||l(m),e[t]=m,n==null||n(m)},options:r,value:d,size:"small",margin:"dense"},c))})}function co(h){var m=h,{target:e,propName:t,label:a=t,title:r,valueMap:l=String,min:n=0,max:c=1,step:i=.01,onBeforeChange:s,onChange:d}=m,p=N(m,["target","propName","label","title","valueMap","min","max","step","onBeforeChange","onChange"]);const[u,f]=M(e[t]),y=(S,P)=>{f(P),s==null||s(P),e[t]=P,d==null||d(P)},v=`${a}: ${l(u)}`;return b(w,{children:[o("div",{className:"Setters-label",title:r,children:v}),o("div",{className:"Setters-slider",children:o(it,g({size:"small",value:u,min:n,max:c,step:i,onChange:y},p))})]})}function j({target:e,propList:t}){const a=t.map(r=>{const p=r,{propName:l,label:n=l,title:c,type:i}=p,s=N(p,["propName","label","title","type"]),d=uo[i];switch(i){case"slider":return o(co,g({target:e,propName:l,label:n,title:c},s));case"vector":return b(w,{children:[o("div",{className:"Setters-label vector",title:c,children:n}),o(le,g({target:e[l]},s))]});default:return b(w,{children:[o("div",{className:"Setters-label",title:c,children:n}),o(d,g({target:e,propName:l},s))]})}});return o("div",{className:"Setters",children:a})}const uo={boolean:no,number:Ie,string:lo,color:io,select:so};function po({target:e,name:t}){if(!e)return null;const a=e.list.map(l=>({value:l}));a.push({value:"None"});const r=[{propName:"current",label:t.replaceAll("_"," "),type:"select",options:a}];return o(j,{target:e,propList:r})}function mo({list:e}){const t=e.map(({name:i})=>i),a=i=>e.find(({name:s})=>s===i),r=Object.fromEntries(t.map(i=>{var s;return[i,(s=a(i))==null?void 0:s.visible]})),[l,n]=M(r);return o(Ye,{name:"",options:t,type:"text",state:l,toggle:(i,s)=>{const d=!l[s];n(I(g({},l),{[s]:d})),a(s).visible=d}})}function ho({target:e}){const{parts:t}=e;if(!t)return null;const{list:a,others:r}=t;return b("div",{className:"BodyPartsController",children:[a.map(l=>o(po,{target:t[l],name:l})),r.length>0&&b(G,{children:[o(w,{children:a.length?"Other Parts":"Body Parts"}),o(mo,{list:r})]})]})}const bo=[{value:"img/textures/particle/cloud.png",label:"Cloud"},{value:"img/textures/particle/smoke.png",label:"Smoke"},{value:"img/textures/particle/heart.png",label:"Heart"}],fo=[{propName:"visible",label:"Visible",type:"boolean"},{propName:"speed",label:"Speed",type:"slider",title:"How fast the aura rises",min:0,max:10,step:.5},{propName:"auraSize",label:"Aura Size",type:"number",title:"How big the aura is",min:0,step:10},{propName:"auraOpacity",label:"Aura Opacity",type:"slider",title:"How opaque the aura is",min:0,max:1,step:.05},{propName:"particleSize",label:"Particle Size",type:"number",title:"How big the particles are",min:0,step:1},{propName:"particleOpacity",label:"Particle Opacity",type:"slider",title:"How opaque the particles are",min:0,max:1,step:.05},{propName:"spread",label:"Spread",type:"number",title:"Distance from the model",min:0,step:1},{propName:"threshold",label:"Threshold",type:"slider",title:"Higher value means less aura, more particles",min:0,max:.7,step:.05},{propName:"color",label:"Color",type:"color"},{propName:"color2",label:"Color 2",type:"color"},{propName:"texture",label:"Texture",type:"select",options:bo}];function vo({target:e}){const{name:t}=e,r=o(fe,{title:"Remove",className:"closeButton",onClick:l=>{l.stopPropagation(),e.dispose()},children:o(Y,{})});return b(G,{disableGutters:!0,className:"AuraController",children:[b(w,{children:[t,r]}),o(j,{target:e,propList:fo})]})}function go({target:e}){const{particle:t}=e,[a,r]=X();K(()=>{const{list:n}=t,c=n.addEventListener("change",r);return()=>n.removeEventListener("change",c)},[]);const l=n=>{n.stopPropagation(),t.add(),r()};return b(G,{disableGutters:!0,className:"ParticleController",children:[b(w,{children:[b("div",{className:"title",children:[o(Fe,{}),"Particles"]}),o(k,{onClick:l,title:"Add particles",variant:"contained",children:o(ve,{})})]}),o(ce.Fragment,{children:t.list.length?t.list.map((n,c)=>o(vo,{target:n},a+c)):"Click + to add particles"},a)]})}const So=({onClick:e,color:t="#101010",title:a})=>o(mt,{position:"absolute",top:0,right:0,children:o(fe,{sx:{color:t,zIndex:5},onClick:e,size:"large",title:a,children:o(Y,{})})}),xo={sx:{margin:"0.3rem",minWidth:"12rem",minHeight:"12rem",maxHeight:"calc(100% - 2rem)"}},De=l=>{var n=l,{children:e,open:t,closeModal:a}=n,r=N(n,["children","open","closeModal"]);return t?_e(b(It,I(g({className:"Modal",maxWidth:"lg",open:t,onClose:a,PaperProps:xo},r),{children:[o(So,{onClick:a,title:"Close"}),e]})),document.getElementById("modal-root")):o(w,{})};const yo={face:bt,faceTexture:ft};function Co({target:e}){var s;const t=e==null?void 0:e.face;if(!t)return o(ae,{});const[a,r]=M(""),l=()=>r(""),n=(s=yo[a])!=null?s:ae,c=d=>{const{value:p}=d.currentTarget.dataset;r(p)},i=(...d)=>{const[p,h]=d;switch(a){case"face":e.face[`${h}BaseIdx`]=p;return;case"faceTexture":e.face[`${h}Texture`]=p;return;default:return}};return b("div",{className:"FaceController",children:[o(k,{variant:"contained",startIcon:o(Yt,{}),onClick:c,"data-value":"face",children:"Facial Expresion"}),t.type==="uv"&&o(k,{variant:"contained",startIcon:o($e,{}),onClick:c,"data-value":"faceTexture",children:"Face Texture"}),o(De,{closeModal:l,open:!!a,children:o(n,{target:e,onSelect:i,onAfterSelect:l})})]})}const ko={backgroundColor:"#101010",color:"#ccc","& li:not(:last-child)":{borderBottom:"1px solid #ffffff33"},"& li[data-current]":{backgroundColor:"#202020",color:"#fff",borderColor:"#fff"},"& li:hover":{backgroundColor:"#ffffff33"}};function Mo({target:e,isReverse:t}){const{animation:a}=e,r=Math.abs(a.mixer.timeScale),[l,n]=M(r),[c,i]=M(null),s=m=>{m.stopPropagation(),i(m.currentTarget)},d=()=>i(null),p=Array(8).fill().map((m,u)=>u*.25+.25),h=m=>{const{value:u}=m.target.dataset;a.mixer.timeScale=t?-u:u,n(parseFloat(u)),d()};return b(w,{children:[o(k,{title:"Time Scale",onClick:s,children:`${l}x`}),o(lt,{anchorEl:c,open:!!c,onClose:d,className:"TimeScaleSelect",PaperProps:{sx:ko},children:p.map(m=>o(ue,{onClick:h,"data-value":m,"data-current":m===l,children:`${m}x`}))})]})}function wo({target:e}){const{animation:t}=e,[a,r]=Me(t.isPaused),[l,n]=Me(t.mixer.timeScale<0),c=()=>{a?t.resume():t.pause(),r()},i=()=>{t.mixer.timeScale*=-1,n()},s=d=>{const{dir:p}=d.currentTarget.dataset,h=p==="next"?1:-1,u=1/60*h;a?(t.resume(),t.update(u),t.pause()):t.update(u)};return b("div",{className:"ModelTimeControl",children:[b(st,{children:[o(k,{variant:"contained","data-dir":"prev",onClick:s,title:"Previous Frame",children:o(ct,{})}),o(k,{variant:"contained",onClick:c,title:a?"Resume":"Pause",children:a?o(dt,{}):o(ut,{})}),o(k,{variant:"contained","data-dir":"next",onClick:s,title:"Next Frame",children:o(pt,{})})]}),o(vt,{type:"text",value:"Reverse",checked:l,onClick:i}),o(Mo,{isReverse:l,target:e})]})}function To({target:e}){const{inputAni:t}=se(),{toggle:a,setTarget:r}=Oe(),{loadState:l}=Ve(),n=async()=>{var u,f;l(e==null?void 0:e.userData.aniSelectState);const s=await t();if(!s)return;const d=e==null?void 0:e.animation.isPaused,[p,h]=s;e==null||e.animation.addChain(p).then(()=>d&&e.animation.pause());const m=Ee(p,h);e!=null&&e.userData&&((f=(u=e.userData.chain)==null?void 0:u.splice(0,1/0,...m))!=null||(e.userData.chain=m))},c=()=>{var s,d;(s=e==null?void 0:e.animation)==null||s.reset(),(d=e==null?void 0:e.userData)==null||d.chain.splice(0,1/0)},i=()=>{r(e),l(e==null?void 0:e.userData.aniSelectState),a()};return b("div",{className:"AnimationController",children:[o(wo,{target:e}),o(k,{variant:"contained",startIcon:o(ze,{}),onClick:n,title:"Add Animation",children:"Add Animation"}),o(k,{variant:"contained",startIcon:o(Zt,{}),onClick:i,title:"Open Chain Maker",children:"Chain Maker"}),o(k,{variant:"contained",startIcon:o(Y,{}),onClick:c,title:"Remove Animation",children:"Reset"})]})}function Ao({target:e}){var h,m;if(!e)return o(w,{});const{inputModel:t}=se(),a=["root",...(m=(h=e==null?void 0:e.bones)==null?void 0:h.list)!=null?m:[]],[r,l]=M(a[0]),n=Ge(e.attachment.list.map(u=>u.parentBone)),[c,i]=X();K(()=>e==null?void 0:e.addEventListener("AttachmentChanged",i),[]);const s=u=>l(u.target.value),d=async(u=r)=>{const f=await t();if(!f)return;const[y,v]=f,S=await re.loadDLModel(y);S.userData.name=v,e.attach(S,u==="root"?void 0:u),S.outline.code=e.outline.code,S.material.code=e.material.code,re.render()},p=()=>d();return b(ce.Fragment,{children:[b("div",{className:"AttachmentController-add",children:[o(Ae,{className:"AttachmentController-select",onChange:s,value:r,children:a.map(u=>o(ue,{value:u,children:u},u))}),o(k,{title:"Add attachment to selected joint",variant:"contained",onClick:p,children:o(ve,{})})]}),o("div",{className:"AttachmentList",children:n.map(u=>o(Xo,{target:e,add:d,bone:u},u))},c)]},e.uniqueId)}const Po=o("img",{className:"btn-icon",src:"img/appIcon/weapon.png",alt:"Add Weapon"});function Bo({target:e}){const[t,a]=M(!1),r=e.bones.list.includes("jWeaponR"),l=()=>a(!1);return b("div",{className:"AttachmentController",children:[r&&o(k,{title:"Add Weapon",startIcon:Po,onClick:()=>a(!0),children:"Add Weapon"}),o(Ao,{target:e}),o(De,{open:t,closeModal:l,children:o(gt,{target:e})})]})}const No={propName:"texture",label:"Texture",type:"select"};function Fo({target:e}){const t=Pe(r=>r["model-texture"]);if(!(t!=null&&t[e.id]))return null;const a=[I(g({},No),{options:t[e.id]})];return o("div",{className:"TextureController",children:o(j,{target:e,propList:a})})}const zo=e=>{var t,a;return!!((a=(t=Pe.getState())==null?void 0:t["model-texture"])!=null&&a[e])},$o=["Position","Rotation","Scale","Outline","Material","Particles","Animation","Attachment"],Lo={Position:qt,Rotation:to,Scale:Qt,Outline:Jt,Material:eo,Particles:Fe,Animation:ze,Attachment:Ut,"Body Parts":Xt,Face:$e,Texture:Kt},Io=r=>{var l=r,{target:e,type:t}=l,a=N(l,["target","type"]);switch(t){case"Position":return o(le,g({target:e.position,step:.005},a),"position");case"Rotation":return o(le,g({target:e.rotation,min:-1,max:1,step:.05,scale:Math.PI*2},a),"rotation");case"Scale":return o(Ie,g({target:e,propName:"scale",label:"Scale",step:.05},a));case"Outline":return o(Oo,{target:e});case"Material":return o(qo,{target:e});case"Particles":return o(go,{target:e});case"Animation":return o(To,{target:e});case"Attachment":return o(Bo,{target:e});case"Face":return o(Co,{target:e});case"Body Parts":return o(ho,{target:e});case"Texture":return o(Fo,{target:e});default:return o(w,{})}},Do=e=>{const t=[...$o];return e.face&&t.push("Face"),e.parts&&t.push("Body Parts"),zo(e.id)&&t.push("Texture"),t},Wo=e=>e.map(t=>({value:t})),Ro=e=>e.map(t=>{var r;const a=(r=Lo[t])!=null?r:ae;return{value:t,icon:o(a,{})}});function jo({value:e,onChange:t,tabs:a,orientation:r="horizontal",className:l=""}){l=`IconTabBar ${l} `+r;const n=c=>{const{value:i}=c.currentTarget.dataset;t(i)};return o("div",{className:l,children:a.map(c=>{const{icon:i,value:s,title:d=s}=c;return o("button",I(g({},e===s&&{className:"selected"}),{title:d,"data-value":s,onClick:n,children:i}))})})}function Ho({value:e,list:t,onChange:a}){const r=Ro(t);return o("div",{children:o(jo,{className:"QuickAccess",value:e,onChange:a,tabs:r})})}function _o({target:e}){var c;const t=Do(e),[a,r]=M((c=e.userData.controller)!=null?c:t[0]),l=Wo(t),n=i=>{e.userData.controller=i,r(i)};return b("div",{className:"ModelController",children:[o(Ho,{list:t,value:a,onChange:n}),o(Le,{options:l,value:a,onChange:n,fullWidth:!0,size:"small"}),o(Io,{type:a,target:e})]})}const we=[{propName:"enabled",label:"Enabled",type:"boolean"},{propName:"size",label:"Size",type:"slider",min:1,max:20,step:1},{propName:"opacity",label:"Opacity",type:"slider",step:.1,valueMap:e=>`${~~(e*100)}%`},{propName:"color",label:"Color",type:"color"}];function Oo({target:e}){const{outline:t}=e,[a,r]=X(),l=ie(!1);K(()=>{const i=t.addEventListener("change",()=>{if(l.current){l.current=!1;return}r()});return()=>t.removeEventListener("change",i)},[]);const n=()=>{const{code:i}=t;e.attachment.traverse(s=>s.outline.code=i)};we.forEach(i=>{i.onBeforeChange=()=>l.current=!0,i.onChange=n});const c=()=>{const i=re.settings.outline;Object.entries(i).forEach(([s,d])=>{t[s]=d}),n(),r()};return b(w,{children:[o(j,{target:t,propList:we},a),o("div",{className:"SettingGroup-extra",children:o(k,{onClick:c,children:"Reset"})})]})}const Vo=[{value:"Basic",title:"Most basic, doesn't respond to light"},{value:"Toon",title:"Toon shading, also called cell shading"},{value:"Lambert",title:"For matte or diffusely reflecting surface"},{value:"Phong",title:"For shiny surface"},{value:"Standard",title:"For physically based rendering"},{value:"Physical",title:"For physically based rendering, can simulate transparency like water or glass"},{value:"Matcap",title:"Material capture, doesn't respond to light"},{value:"MMDToon",label:"MMD Toon",title:"Combination of Phong, Toon, and Matcap material"}],Eo=[{value:"none",label:"None"},{value:"127,255",label:"2 Tones"},{value:"85,170,255",label:"3 Tones"},{value:"64,128,172,255",label:"4 Tones"}],Go=[{label:"Fresnel",value:"matcap_fresnel.jpg"},{label:"Black Stone",value:"matcap_black_stone.jpg"},{label:"Chrome 1",value:"matcap_chrome_1.jpg"},{label:"Chrome 2",value:"matcap_chrome_2.jpg"},{label:"Brown Clay",value:"matcap_clay_brown.jpg"},{label:"Dark Brown Clay",value:"matcap_clay_dark_brown.jpg"},{label:"Flesh Clay",value:"matcap_clay_flesh_6.jpg"},{label:"Gray Clay",value:"matcap_clay_gray.jpg"},{label:"Metal Putty",value:"matcap_metal_putty.jpg"},{label:"Obsidian",value:"matcap_obsidian.jpg"},{label:"Pearl",value:"matcap_pearl.jpg"},{label:"Yellow Plastic",value:"matcap_plastic_yellow.jpg"},{label:"Sci-fi Plastic",value:"matcap_scifi_plastic.jpg"},{label:"Slick Mud",value:"matcap_slick_mud.jpg"},{label:"Shiny Metal",value:"metal_shiny.jpg"}],V=e=>`${~~(e*100)}%`,Te=[{propName:"type",label:"Type",type:"select",options:Vo}],Uo=[{propName:"transparent",label:"Transparent",type:"boolean",title:"Whether to allow seeing through the model"},{propName:"opacity",label:"Opacity",type:"slider",title:"The opacity of the material",min:0,max:1,valueMap:V},{propName:"showTexture",label:"Texture",type:"boolean",title:"Show / hide model texture"},{propName:"color",label:"Color",type:"color",title:"The color of the material. Default is white"},{propName:"wireframe",label:"Wireframe",type:"boolean",title:"Whether to show the model as wireframe. Turn off outline to only see the wireframe"},{propName:"flatShading",label:"Flat Shading",type:"boolean",title:"Whether to use flat shading"},{propName:"emissive",label:"Emissive",type:"color",title:"The emissive color of the material, essentially a solid color unaffected by other lighting. Default is black"},{propName:"emissiveIntensity",label:"Emissive Intensity",type:"slider",title:"The intensity of the emissive light. Default is 1",min:0,max:1,valueMap:V},{propName:"specular",label:"Specular",type:"color"},{propName:"metalness",label:"Metalness",type:"slider",title:"How much the material is like a metal. Default is 0",min:0,max:1,valueMap:V},{propName:"roughness",label:"Roughness",type:"slider",title:"How rough the material is, 0 means a smooth mirror reflection, 1 means fully diffuse. Default is 1",min:0,max:1,valueMap:V},{propName:"shininess",label:"Shininess",type:"slider",title:"How shiny the specular highlight is, a higher value gives a sharper highlight. Default is 30",min:1,max:100,step:1},{propName:"gradientMap",label:"Gradient Map",type:"select",title:"The gradient map to use",options:Eo},{propName:"matcap",label:"Matcap",type:"select",title:"The matcap to use",options:Go},{propName:"transmission",label:"Transmission",type:"slider",title:"The amount of light passing through the material. Default is 0",min:0,max:1,valueMap:V},{propName:"thickness",label:"Thickness",type:"slider",title:"The thickness of the material. Default is 0",min:0,max:10},{propName:"ior",label:"Index of Refraction",type:"slider",title:"The index of refraction of the material. Default is 1.5",min:1,max:2.333}];function qo({target:e}){const{material:t}=e,{propList:a}=t,[r,l]=X(),n=ie(!1);K(()=>{const s=t.addEventListener("change",()=>{if(n.current){n.current=!1;return}l()});return()=>t.removeEventListener("change",s)},[]);const c=()=>{const{code:s}=t;e.attachment.traverse(d=>{d.material.code=s})};Te[0].onChange=()=>{l(),c()};const i=Uo.filter(({propName:s})=>a.includes(s));return i.forEach(s=>{s.onBeforeChange=()=>n.current=!0,s.onChange=c}),b(ce.Fragment,{children:[o(j,{target:t,propList:Te}),o(j,{target:t,propList:i})]},r)}function Ko({target:e,label:t=(r=>(r=(a=>(a=e==null?void 0:e.userData)==null?void 0:a.name)())!=null?r:e.id)()}){const l=i=>{i.stopPropagation(),e.dispose()},n=o(qe,{modelId:e.id,alt:e==null?void 0:e.userData.name,className:"FullModelController-icon"}),c=o(fe,{title:"Remove",className:"closeButton",onClick:l,size:"large",children:o(Y,{})});return b(G,{className:"FullModelController",children:[b(w,{children:[n,t,c]}),o(_o,{target:e})]})}function Xo({bone:e,add:t,target:a}){var c;const{activeModel:r}=Ue();a!=null||(a=r);const l=(c=a==null?void 0:a.attachment[e])!=null?c:[],n=i=>{i.stopPropagation(),t(e)};return b(G,{defaultOpen:!0,className:"BoneManager",disableGutters:!0,children:[b(w,{children:[o("div",{className:"BoneManager-name",children:e}),o(k,{variant:"contained",className:"BoneManager-add",onClick:n,children:o(ve,{})})]}),o(w,{children:l.map(i=>o(Ko,{target:i}))})]})}export{Ut as A,ho as B,So as C,ze as D,Ko as F,jo as I,De as M,Oo as O,Jt as P,Zt as S,eo as T,Yt as a,$e as b,qo as c,Fo as d,go as e,j as f,to as g,ve as h,Xo as i};
