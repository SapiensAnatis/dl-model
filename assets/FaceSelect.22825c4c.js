import{o as c,h as m,O as M,n as S,a as f,p as x}from"./index.e0e02e7e.js";import{u as B}from"./useKey.452bcc25.js";import{F as E}from"./FacePartSelector.51ad1cb9.js";import{E as I,M as N,i as b,b as T,c as C}from"./MeshMouthSelect.e0b77717.js";import{a as v,b as L}from"./DialogTitle.1ce7af2c.js";function k({eyeTexture:s,eyeIdx:n,mouthTexture:e,mouthIdx:o,...i}){return c("div",{className:"FaceBox",...i,children:[c(I,{texture:s,index:n}),c(N,{texture:e,index:o})]})}function U({target:s,onSelect:n}){const e=s==null?void 0:s.face;if(!e||(e==null?void 0:e.type)!=="uv")return c("h2",{children:"Not Available"});const[o,i]=B();m(()=>{const t=e.addEventListener("change",({propName:a})=>{(a.includes("Base")||a.includes("Texture"))&&i()});return()=>e.removeEventListener("change",t)},[]);const h=M(),[l,d]=S("Both");m(()=>!h&&i(),[l]);const u=t=>{const{index:a}=t.currentTarget.dataset;l!=="Eyes"&&n(a,"mouth"),l!=="Mouth"&&n(a,"eye")},{eyeBaseIdx:r,eyeTexture:y,mouthBaseIdx:p,mouthTexture:F}=e;return c("div",{className:"UvFaceSelect",children:[c(E,{value:l,onClick:d}),c("div",{className:"FaceBoxes",children:b.map(t=>c(k,{eyeTexture:y,eyeIdx:l==="Mouth"?r:t,mouthTexture:F,mouthIdx:l==="Eyes"?p:t,"data-index":t,onClick:u}))},o)]})}function D({target:s,onSelect:n}){var o,i;const e=s==null?void 0:s.face;return(e==null?void 0:e.type)==="meshes"&&c("div",{className:"MeshFaceSelect",children:[((o=e==null?void 0:e.eyeList)==null?void 0:o.length)>0&&c(T,{target:s,onSelect:n}),((i=e==null?void 0:e.mouthList)==null?void 0:i.length)>0&&c(C,{target:s,onSelect:n})]})}const K={uv:U,meshes:D},P={display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",fontSize:"large"};function q({target:s,onSelect:n,onAfterSelect:e}){var d,u;const{activeModel:o}=f();s!=null||(s=o);const i=(d=s==null?void 0:s.face)==null?void 0:d.type,h=(u=K[i])!=null?u:()=>c(x,{}),l=(...r)=>{n(...r),e==null||e()};return s!=null&&s.face?c("div",{className:"FaceSelect",children:[c(v,{sx:{textAlign:"center"},children:"Face Select"}),c(L,{sx:{padding:"1rem"},children:c(h,{target:s,onSelect:l})})]}):c(x,{children:[c(v,{sx:{textAlign:"center"},children:"Face Select"}),c("div",{style:P,children:"Not available"})]})}export{q as F};
