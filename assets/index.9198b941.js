import{e as r,l as a,_ as h,n as x,S as T,v as M}from"./index.ee9ec2a8.js";import{u as v}from"./useKey.17cbab5d.js";import{A as u}from"./Accordion.3646eb0e.js";/* empty css               */import{M as y}from"./ModelIcon.eb325a93.js";import{B}from"./Button.270d148a.js";import{C as w}from"./Check.c2e04d1f.js";import{a as C,b as k}from"./DialogTitle.0d9874c2.js";import{B as A}from"./Box.f6b7f162.js";import"./useToggleState.c041c075.js";import"./createSvgIcon.7340b33d.js";import"./ButtonBase.0fe31786.js";function D({list:e,label:t,defaultOpen:i=!1,onSelect:d}){return r(u,{disableGutters:!0,defaultOpen:i,className:"BoneChildren",children:[r(a,{children:t}),r(a,{children:e.map(o=>r(p,{target:o,onSelect:d},o.uniqueId))})]})}function p({target:e,onSelect:t}){if(!e)return null;const[i,d]=v();h(()=>{const n=e.addEventListener("AttachmentChanged",d);return()=>e.removeEventListener("AttachmentChanged",n)},[]),h(()=>{e.userData.name||x(e.id).then(n=>{e.userData.name=n==null?void 0:n.name,d()})},[]);const o=e.id,l=e==null?void 0:e.userData.name,f=l!=null?l:o,g=r(y,{modelId:o,alt:l!=null?l:o,className:"ModelTree-icon"}),c=T(e.attachment.list.map(n=>n.parentBone)),b=()=>t(e),s=r(a,{children:[g,r("div",{className:"target-name",children:f}),r(B,{title:"Select",variant:"contained",onClick:b,children:r(w,{})})]});return c.length?r(u,{disableGutters:!0,className:"ModelTree",children:[s,r(a,{children:c.map(n=>r(D,{defaultOpen:c.length===1,label:n,onSelect:t,list:e.attachment[n]}))})]},i):r("div",{className:"ModelTree",children:s},i)}const m={root:{display:"flex",flexDirection:"column",overflowY:"hidden",minHeight:"20rem",minWidth:"20rem"},title:{textAlign:"center",padding:"0.5rem 2rem",display:"flex",alignItems:"center",justifyContent:"center",borderBottom:"1px solid rgba(16, 16, 16, 0.4)",boxShadow:"0 0.2rem 0.3rem rgba(16, 16, 16, 0.4)",minHeight:"4rem"},content:{padding:"2rem 1rem",display:"flex",flexDirection:"column",flexWrap:"wrap"}};function O({onSelect:e=console.log,onAfterSelect:t}){const i=M.model,d=o=>{e(o),t==null||t()};return r(A,{sx:m.root,className:"TargetPicker",children:[r(C,{sx:m.title,children:"Select Target"}),r(k,{sx:m.content,children:i.length?i.map(o=>r(p,{target:o,onSelect:d},o.uniqueId)):"No model"})]})}export{O as default};
